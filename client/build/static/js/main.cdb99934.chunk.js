(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{137:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(10),r=a.n(c),i=a(48),s=a(13),o=a(52),l=a(94),d="CREATE",u="UPDATE",p="DELETE",j="FETCH_ALL",b="LIKE",h=Object(o.b)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return console.log(t.payload),t.payload;case p:return e.filter((function(e){return e._id!==t.payload}));case u:case b:return console.log("like"),e.map((function(e){return e._id===t.payload._id?t.payload:e}));case d:return[].concat(Object(l.a)(e),[t.payload]);default:return e}}}),x=a(21),m=a(79),g=a(51),f=a(175),O=a(176),v=a(169),y=a(180),w=a(174),C=a(178),k=a.p+"static/media/Blog_pic.c535b205.png",N=a(164),E=Object(N.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"},view:{textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"space-around",color:"green"}}),I=a(166),S=a(168),B=a(179),F=a(171),z=a(172),D=a(86),_=a.n(D),L=a(89),A=a.n(L),R=a(24),T=a.n(R),W=a(53),H=a(37),U=a.n(H),M=function(e,t){return U.a.patch("".concat("","/posts/").concat(e),t)},P=function(e){return U.a.delete("".concat("","/posts/").concat(e))},J=function(e){return U.a.patch("".concat("","/posts/").concat(e,"/likePost"))},K=a(85),V=a.n(K),Y=a(181),q=a(88),G=a.n(q),Q=(a(132),a(3)),X=function(e){var t=e.post,a=e.setCurrentId,n=(e.setUpdate,e.setOpenCreate),c=E(),r=Object(x.b)();return console.log(t),Object(Q.jsxs)(I.a,{className:c.card,children:[Object(Q.jsx)(S.a,{className:c.media,image:t.selectedFile,title:t.title}),Object(Q.jsxs)("div",{className:c.overlay,children:[console.log("working till"),Object(Q.jsx)(v.a,{variant:"h6",children:t.creator})]}),Object(Q.jsx)("div",{className:c.overlay2,children:Object(Q.jsx)(B.a,{style:{color:"white",fontSize:"25px"},size:"small",onClick:function(){a(t._id)},fontSize:"25px",children:Object(Q.jsx)(Y.a,{title:"Edit this post",children:Object(Q.jsx)(V.a,{onClick:function(){n(!0)}})})})}),Object(Q.jsx)("div",{className:c.details,children:Object(Q.jsx)(v.a,{variant:"body2",children:t.tags.map((function(e){return"#".concat(e," ")}))})}),Object(Q.jsx)(v.a,{className:c.title,variant:"h5",gutterBottom:!0,children:t.title}),Object(Q.jsx)(F.a,{children:Object(Q.jsx)(v.a,{variant:"body2",color:"textSecondary",children:t.message})}),Object(Q.jsxs)(z.a,{className:c.cardActions,children:[Object(Q.jsx)(Y.a,{title:"Like",children:Object(Q.jsxs)(B.a,{size:"small",color:"primary",onClick:function(){var e;r((e=t._id,function(){var t=Object(W.a)(T.a.mark((function t(a){var n,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J(e);case 3:n=t.sent,c=n.data,a({type:b,payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))},children:[Object(Q.jsx)(_.a,{fontSize:"small"}),"\xa0 Like \xa0 ",t.LikeCount]})}),Object(Q.jsxs)(i.b,{to:{pathname:"/post/".concat(t._id),state:{post:t}},className:c.view,children:[Object(Q.jsx)(G.a,{})," \xa0\xa0view"]}),Object(Q.jsx)(Y.a,{title:"Delete",style:{color:"red"},children:Object(Q.jsxs)(B.a,{size:"small",color:"primary",onClick:function(){var e;r((e=t._id,function(){var t=Object(W.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P(e);case 3:a({type:p,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()))},children:[Object(Q.jsx)(A.a,{}),"Delete"]})})]})]})},Z=Object(N.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}})),$=a(173),ee=function(e){var t=e.setCurrentId,a=e.setUpdate,n=e.openCreate,c=e.setOpenCreate,r=Z(),i=Object(x.c)((function(e){return e.posts}));return i.length?Object(Q.jsx)(w.a,{className:r.container,container:!0,alignItems:"stretch",spacing:3,children:i.map((function(e){return Object(Q.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(Q.jsx)(X,{post:e,setCurrentId:t,setUpdate:a,openCreate:n,setOpenCreate:c})},e._id)}))}):Object(Q.jsx)($.a,{})},te=a(23),ae=a(38),ne=a(93),ce=a(96),re=a(177),ie=Object(N.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},menu:Object(te.a)({width:"50%",marginLeft:"auto",marginRight:"auto"},e.breakpoints.down("sm"),{width:"85%"}),form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10},createBtn:{width:50,borderRadius:40,height:60,background:"white",boxShadow:"none"}}})),se=a(90),oe=a.n(se),le=a(91),de=a.n(le),ue=function(e){var t=e.currentId,a=e.setCurrentId,c=e.setOpenCreate,r=e.openCreate,i=Object(n.useState)({creator:"",title:"",message:"",tags:"",selectedFile:""}),s=Object(g.a)(i,2),o=s[0],l=s[1];console.log(t);var p=Object(x.b)(),j=Object(x.c)((function(e){return t?e.posts.find((function(e){return e._id===t})):null}));Object(n.useEffect)((function(){j&&l(j)}),[j]);var b=ie(),h=function(e){l(Object(ae.a)(Object(ae.a)({},o),{},Object(te.a)({},e.target.name,e.target.value))),console.log(o)},m=function(){a(null),l({creator:"",title:"",message:"",tags:"",selectedFile:""})};return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)("div",{children:[Object(Q.jsx)(B.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){c(!0)},variant:"contained",className:b.createBtn,children:Object(Q.jsx)(Y.a,{title:"Add a new Blog",children:Object(Q.jsx)(de.a,{style:{fontSize:65,color:"#02aac4"}})})}),Object(Q.jsx)(ne.a,{id:"simple-menu",keepMounted:!0,open:r,onClose:function(){c(!1)},className:b.menu,children:Object(Q.jsx)(ce.a,{className:b.paper,children:Object(Q.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(b.root," ").concat(b.form),onSubmit:function(e){e.preventDefault(),p(t?function(e,t){return function(){var a=Object(W.a)(T.a.mark((function a(n){var c,r;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,M(e,t);case 3:c=a.sent,r=c.data,n({type:u,payload:r}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(t,o):function(e){return function(){var t=Object(W.a)(T.a.mark((function t(a){var n,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e,U.a.post("".concat("","/posts"),r);case 3:n=t.sent,c=n.data,a({type:d,payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(o)),m()},children:[Object(Q.jsxs)(v.a,{variant:"h6",children:[t?"Edit the ":"Create a New","  Blog!"]}),Object(Q.jsx)(re.a,{name:"creator",variant:"outlined",label:"creator",fullWidth:!0,value:o.creator,onChange:function(e){h(e)}}),Object(Q.jsx)(re.a,{name:"title",variant:"outlined",label:"title",fullWidth:!0,value:o.title,onChange:function(e){h(e)}}),Object(Q.jsx)(re.a,{name:"message",variant:"outlined",label:"message",fullWidth:!0,value:o.message,onChange:function(e){h(e)}}),Object(Q.jsx)(re.a,{name:"tags",variant:"outlined",label:"tags",fullWidth:!0,value:o.tags,onChange:function(e){l(Object(ae.a)(Object(ae.a)({},o),{},{tags:e.target.value.split(",")}))}}),Object(Q.jsx)("div",{className:"classes fileInput",style:{margin:8},children:Object(Q.jsx)(oe.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return l(Object(ae.a)(Object(ae.a)({},o),{},{selectedFile:t}))}})}),Object(Q.jsx)(B.a,{className:b.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0,children:"Submit"}),Object(Q.jsx)(B.a,{className:b.buttonSubmit,variant:"contained",color:"secondary",size:"small",onClick:m,fullWidth:!0,children:"Reset"})]})})})]})})},pe=Object(N.a)((function(e){return{appBar:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",background:"linear-gradient(to right , white ,#ace0e8,white,white ,#ace0e8,white )"},heading:{color:"rgba(0,183,255, 1)"},image:{marginLeft:"15px"},mainContainer:Object(te.a)({},e.breakpoints.down("sm"),{flexDirection:"column-reverse"}),createBtn:{position:"fixed",right:40,bottom:"60px",width:50,height:50,borderRadius:"50%"}}})),je=(a(137),function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),i=Object(g.a)(r,2),s=i[0],o=i[1],l=Object(n.useState)(!1),d=Object(g.a)(l,2),u=(d[0],d[1]),p=Object(x.b)(console.log("dispatched")),b=pe();return Object(n.useEffect)((function(){p(function(){var e=Object(W.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=U.a.get("".concat("","/posts")),n=a.data,t({type:j,payload:n})}catch(c){console.log(c+"from actions ")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("app.js dispatch")}),[s,p]),Object(Q.jsx)("div",{children:Object(Q.jsxs)(f.a,{maxwidth:"lg",children:[Object(Q.jsxs)(O.a,{position:"static",color:"inherit",className:b.appBar,children:[Object(Q.jsx)(v.a,{variant:"h2",align:"center",children:"Blogs"}),Object(Q.jsx)("img",{className:b.img,src:k,alt:"memories",height:"60"})]}),Object(Q.jsx)(y.a,{in:!0,children:Object(Q.jsx)(f.a,{children:Object(Q.jsxs)(w.a,{container:!0,justifyContent:"space-between",alignItems:"stretch",className:b.mainContainer,spacing:3,children:[Object(Q.jsx)(w.a,{item:!0,xs:12,sm:11,lg:11,children:Object(Q.jsx)(ee,{setCurrentId:o,setUpdate:u,openCreate:a,setOpenCreate:c})}),Object(Q.jsx)(C.a,{className:b.createBtn,children:Object(Q.jsx)(ue,{currentId:s,setCurrentId:o,openCreate:a,setOpenCreate:c})})]})})})]})})}),be=Object(N.a)((function(e){return{container:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",background:"lightgrey",backgroundColor:"#FFFFFF",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='90' height='90' viewBox='0 0 90 90'%3E%3Ccircle fill='%2306B' cx='45' cy='45' r='5'/%3E%3Cg fill='%23800' fill-opacity='1'%3E%3Ccircle cx='0' cy='90' r='5'/%3E%3Ccircle cx='90' cy='90' r='5'/%3E%3Ccircle cx='90' cy='0' r='5'/%3E%3Ccircle cx='0' cy='0' r='5'/%3E%3C/g%3E%3C/svg%3E\")"},card:Object(te.a)({width:"60%",maxHeight:"100vh",boxShadow:"1px 1px 40px black",margin:10},e.breakpoints.down("sm"),{width:"100%"}),top:{width:"100%",display:"grid",placeItems:"center",maxHeight:"40vh",overflow:"hidden"},bottom:{height:"54%",padding:20,overflowY:"scroll"},backBtn:{position:"absolute",left:"2%",top:"2%",backgroundColor:"white",color:"#129acc",border:"1px solid #129acc",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"space-around",padding:5,fontSize:20,borderRadius:6},header:Object(te.a)({},e.breakpoints.down("sm"),{fontSize:28})}})),he=a(92),xe=a.n(he),me=function(e){var t=be(),a=e.location.state.post,n=a.title,c=a.tags,r=a.creator,s=a.message,o=a.selectedFile;return console.log(e.location.state.post,"from post details"),Object(Q.jsxs)("div",{className:t.container,children:[Object(Q.jsxs)(i.b,{to:"/",className:t.backBtn,variant:"contained",children:[" ",Object(Q.jsx)(xe.a,{})," See all blogs"]}),Object(Q.jsxs)(I.a,{className:t.card,children:[Object(Q.jsx)(C.a,{className:t.top,children:Object(Q.jsx)(v.a,{children:Object(Q.jsx)("img",{src:o,alt:"Post image is not available",style:{width:"100%",maxHeight:"39vh",marginTop:5}})})}),Object(Q.jsxs)(C.a,{className:t.bottom,children:[Object(Q.jsx)(v.a,{variant:"h2",className:t.header,children:n}),Object(Q.jsx)(v.a,{variant:"h6",style:{color:"#5297b3"},children:c.map((function(e){return"#".concat(e,". ")}))}),Object(Q.jsxs)(v.a,{variant:"h5",children:[Object(Q.jsx)("span",{style:{color:"grey",fontSize:18},children:"Author:-"}),"   ",r]}),Object(Q.jsx)(v.a,{variant:"h6",children:s})]})]})]})},ge=Object(o.d)(h,Object(o.c)(Object(o.a)(m.a)));r.a.render(Object(Q.jsx)(x.a,{store:ge,children:Object(Q.jsxs)(i.a,{children:[Object(Q.jsx)(s.a,{path:"/",exact:!0,children:Object(Q.jsx)(je,{})}),Object(Q.jsx)(s.a,{path:"/post/:id",exact:!0,component:me})]})}),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.cdb99934.chunk.js.map